<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>체스게임</title>
    <link href="style-index.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <div class="game-container">
        <div class="title-container">
            <div class="title"><h1><a href="/" id="main-title">체스체스체스체스</a></h1></div>
        </div>
        <div class="chess-board-container">
            <div class="board" id="board">
                <div class="rank-board">
                    <div class="rank-set">
                        <div class="rank">
                            <div class='cell white-cell' id='A8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKROOK.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='B8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKBISHOP.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='C8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKKNIGHT.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='D8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKQUEEN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='E8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKKING.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='F8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKKNIGHT.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='G8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKBISHOP.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='H8'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKROOK.png' width='70'>
                                </div>
                            </div>
                            <div class='rank_text cell'>8</div>
                        </div>
                        <div class="rank">
                            <div class='cell black-cell' id='A7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='B7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='C7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='D7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='E7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='F7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='G7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='H7'>
                                <div class='piece'>
                                    <img alt='' height='70' src='img/piece/BLACKPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='rank_text cell'>7</div>
                        </div>
                        <div class="rank">
                            <div class='cell white-cell' id='A6'></div>
                            <div class='cell black-cell' id='B6'></div>
                            <div class='cell white-cell' id='C6'></div>
                            <div class='cell black-cell' id='D6'></div>
                            <div class='cell white-cell' id='E6'></div>
                            <div class='cell black-cell' id='F6'></div>
                            <div class='cell white-cell' id='G6'></div>
                            <div class='cell black-cell' id='H6'></div>
                            <div class='rank_text cell'>6</div>
                        </div>
                        <div class="rank">
                            <div class='cell black-cell' id='A5'></div>
                            <div class='cell white-cell' id='B5'></div>
                            <div class='cell black-cell' id='C5'></div>
                            <div class='cell white-cell' id='D5'></div>
                            <div class='cell black-cell' id='E5'></div>
                            <div class='cell white-cell' id='F5'></div>
                            <div class='cell black-cell' id='G5'></div>
                            <div class='cell white-cell' id='H5'></div>
                            <div class='rank_text cell'>5</div>
                        </div>
                        <div class="rank">
                            <div class='cell white-cell' id='A4'></div>
                            <div class='cell black-cell' id='B4'></div>
                            <div class='cell white-cell' id='C4'></div>
                            <div class='cell black-cell' id='D4'></div>
                            <div class='cell white-cell' id='E4'></div>
                            <div class='cell black-cell' id='F4'></div>
                            <div class='cell white-cell' id='G4'></div>
                            <div class='cell black-cell' id='H4'></div>
                            <div class='rank_text cell'>4</div>
                        </div>
                        <div class="rank">
                            <div class='cell black-cell' id='A3'></div>
                            <div class='cell white-cell' id='B3'></div>
                            <div class='cell black-cell' id='C3'></div>
                            <div class='cell white-cell' id='D3'></div>
                            <div class='cell black-cell' id='E3'></div>
                            <div class='cell white-cell' id='F3'></div>
                            <div class='cell black-cell' id='G3'></div>
                            <div class='cell white-cell' id='H3'></div>
                            <div class='rank_text cell'>3</div>
                        </div>
                        <div class="rank">
                            <div class='cell white-cell' id='A2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='B2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='C2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='D2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='E2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='F2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='G2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='H2'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEPAWN.png' width='70'>
                                </div>
                            </div>
                            <div class='rank_text cell'>2</div>
                        </div>
                        <div class="rank">
                            <div class='cell black-cell' id='A1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEROOK.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='B1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEBISHOP.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='C1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEKNIGHT.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='D1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEQUEEN.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='E1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEKING.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='F1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEKNIGHT.png' width='70'>
                                </div>
                            </div>
                            <div class='cell black-cell' id='G1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEBISHOP.png' width='70'>
                                </div>
                            </div>
                            <div class='cell white-cell' id='H1'>
                                <div class='piece'>
                                    <img alt='' height='70' src='../img/piece/WHITEROOK.png' width='70'>
                                </div>
                            </div>
                            <div class='rank_text cell'>1</div>
                        </div>
                        <div class="rank">
                            <div class='file-text cell' id='A'>A</div>
                            <div class='file-text cell' id='B'>B</div>
                            <div class='file-text cell' id='C'>C</div>
                            <div class='file-text cell' id='D'>D</div>
                            <div class='file-text cell' id='E'>E</div>
                            <div class='file-text cell' id='F'>F</div>
                            <div class='file-text cell' id='G'>G</div>
                            <div class='file-text cell' id='H'>H</div>
                            <div class='rank_text cell'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="buttons">
            <div class="start-button">
                <form action="/createChessGame" method="post">
                    <input hidden="hidden" name="command" type="text" value="start">
                    <input hidden="hidden" name="parameter" type="text" value="new">
                    <input type="submit" value="New Game"/>
                </form>
            </div>
        </div>
    </div>
    <div class="room-container" id="room-container">
        <div class="room-title"><h3>게임 목록</h3></div>
        <div class="room-table-head">
            <div class="room-id table-head">id</div>
            <div class="room-name table-head">name</div>
        </div>
        <div class="room-table-body">
            {{#roomId}}
            <a class="room-button" id="{{key}}">
                <div class="room">
                    <div class="room-id">{{key}}</div>
                    <div class="room-name">player1 vs player2</div>
                </div>
            </a>
            {{/roomId}}
        </div>
    </div>
</div>
</body>
</html>
<script>
    window.onload = () => {
        document.querySelectorAll(".room-button").forEach(element => {
            element.addEventListener("click", event => {
                event.preventDefault();
                loadGame(element.id);
            })
        });

        function loadGame(id) {
            let form = document.createElement("form");
            form.setAttribute("method", "post");
            form.setAttribute("action", "/loadChessGame");

            let command = document.createElement("input");
            command.setAttribute("type", "hidden");
            command.setAttribute("name", "command");
            command.setAttribute("value", "start");
            form.appendChild(command);

            let parameter = document.createElement("input");
            parameter.setAttribute("type", "hidden");
            parameter.setAttribute("name", "parameter");
            parameter.setAttribute("value", "load");
            form.appendChild(parameter);

            let idInput = document.createElement("input");
            idInput.setAttribute("type", "hidden");
            idInput.setAttribute("name", "id");
            idInput.setAttribute("value", id);
            form.appendChild(idInput);


            document.body.appendChild(form);
            form.submit();
        }
    }
</script>